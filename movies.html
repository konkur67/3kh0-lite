<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Movies | Network Unity</title>
  <link rel="icon" href="/favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #000000;
      color: #ffffff;
      min-height: 100vh;
      padding: 60px 40px;
      position: relative;
    }

    .stars {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 1;
      pointer-events: none;
    }

    .star {
      position: absolute;
      width: 1px;
      height: 1px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 2px rgba(255, 255, 255, 0.5);
      animation: twinkle 4s infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }

    .content {
      position: relative;
      z-index: 2;
      max-width: 1400px;
      margin: 0 auto;
    }

    .back-btn {
      display: inline-block;
      padding: 12px 32px;
      background: rgba(40, 40, 40, 0.8);
      color: #ffffff;
      border: 1px solid #444;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      margin-bottom: 30px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
    }

    .back-btn:hover {
      background: rgba(60, 60, 60, 0.9);
      border-color: #666;
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
    }

    h1 {
      font-size: 3.5rem;
      font-weight: 700;
      letter-spacing: -2px;
      margin-bottom: 40px;
      text-align: center;
      transition: all 0.3s ease;
      text-shadow: 0 0 40px rgba(255, 255, 255, 0.3),
                   0 0 80px rgba(255, 255, 255, 0.1);
    }

    h1:hover {
      text-shadow: 0 0 60px rgba(255, 255, 255, 0.5),
                   0 0 100px rgba(255, 255, 255, 0.2);
    }

    .search-section {
      background: rgba(20, 20, 20, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid #222;
      color: #ffffff;
      padding: 30px;
      margin-bottom: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    .search-section h2 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 20px;
      letter-spacing: -1px;
    }

    input[type="text"], select {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid #333;
      background: rgba(30, 30, 30, 0.8);
      color: #ffffff;
      font-family: 'Inter', sans-serif;
      font-size: 0.95rem;
      outline: none;
      transition: all 0.3s ease;
      margin-bottom: 15px;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
    }

    select {
      cursor: pointer;
    }

    input[type="text"]:focus, select:focus {
      border-color: #555;
      background: rgba(40, 40, 40, 0.9);
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
    }

    input[type="text"]::placeholder {
      color: #555;
    }

    select option {
      background: #1a1a1a;
      color: #ffffff;
    }

    .input-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 15px;
    }

    .btn {
      padding: 14px 24px;
      background: rgba(40, 40, 40, 0.8);
      color: #ffffff;
      border: 1px solid #444;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
      font-size: 0.95rem;
      font-weight: 600;
      transition: all 0.3s ease;
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
    }

    .btn:hover {
      background: rgba(60, 60, 60, 0.9);
      border-color: #666;
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
    }

    .btn:active {
      transform: translateY(0);
    }

    .player-container {
      background: rgba(20, 20, 20, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid #222;
      padding: 24px;
      margin-bottom: 30px;
      display: none;
      border-radius: 12px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
    }

    .player-container.active {
      display: block;
    }

    .player-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .current-source {
      color: #888;
      font-size: 0.95rem;
      font-weight: 600;
    }

    .source-dropdown {
      padding: 10px 20px;
      background: rgba(30, 30, 30, 0.8);
      color: #ffffff;
      border: 1px solid #444;
      font-family: 'Inter', sans-serif;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border-radius: 8px;
    }

    .source-dropdown:hover {
      background: rgba(50, 50, 50, 0.9);
      border-color: #555;
    }

    iframe {
      width: 100%;
      height: 600px;
      border: 1px solid #222;
      background: #000000;
      border-radius: 8px;
      pointer-events: auto;
    }

    .popular-section, .search-results {
      margin-top: 40px;
    }

    .popular-section h2, .search-results h2 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 20px;
      letter-spacing: -1px;
    }

    .search-results {
      background: rgba(20, 20, 20, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid #222;
      padding: 30px;
      margin-bottom: 30px;
      display: none;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    .search-results.active {
      display: block;
    }

    .movies-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
    }

    .movie-card {
      background: rgba(20, 20, 20, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid #222;
      cursor: pointer;
      transition: all 0.3s ease;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    .movie-card:hover {
      transform: translateY(-8px);
      border-color: #333;
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
    }

    .movie-poster {
      width: 100%;
      aspect-ratio: 2/3;
      object-fit: cover;
      display: block;
      background: #111111;
    }

    .movie-info {
      padding: 15px;
    }

    .movie-title {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 5px;
      letter-spacing: -0.5px;
      line-height: 1.3;
    }

    .movie-year {
      font-size: 0.85rem;
      color: #888;
    }

    .loading {
      text-align: center;
      padding: 40px;
      font-size: 1.1rem;
      color: #666;
    }

    @media (max-width: 768px) {
      body {
        padding: 40px 20px;
      }

      h1 {
        font-size: 2.5rem;
      }

      iframe {
        height: 400px;
      }

      .input-group {
        grid-template-columns: 1fr;
      }

      .movies-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>
  
  <div class="content">
    <a href="/index.html" class="back-btn">‚Üê Back</a>
    
    <h1>Movies & TV.</h1>

    <div class="search-section">
      <h2>Search & Watch</h2>
      <input type="text" id="searchInput" placeholder="Search for movies or TV shows..." onkeypress="if(event.key==='Enter') performSearch()" />
      
      <div class="input-group">
        <select id="contentType">
          <option value="movie">Movie</option>
          <option value="tv">TV Show</option>
        </select>
        
        <select id="sourceSelect">
          <option value="vidsrc">VidSrc</option>
          <option value="vidsrcpro">VidSrc Pro</option>
          <option value="embedsu">Embed.su</option>
          <option value="vidsrcto">VidSrc.to</option>
          <option value="2embed">2Embed</option>
        </select>
      </div>

      <button class="btn" onclick="performSearch()">Search</button>
    </div>

    <div class="search-results" id="searchResults">
      <h2>Search Results</h2>
      <div class="movies-grid" id="searchGrid"></div>
    </div>

    <div class="player-container" id="playerContainer">
      <div class="player-header">
        <div class="current-source" id="currentSource"></div>
        <select class="source-dropdown" id="playerSource" onchange="switchSource()">
          <option value="vidsrc">VidSrc</option>
          <option value="vidsrcpro">VidSrc Pro</option>
          <option value="embedsu">Embed.su</option>
          <option value="vidsrcto">VidSrc.to</option>
          <option value="2embed">2Embed</option>
        </select>
      </div>
      <iframe id="player" allowfullscreen sandbox="allow-scripts allow-same-origin allow-presentation"></iframe>
    </div>

    <div class="popular-section">
      <h2>Popular Movies</h2>
      <div class="movies-grid" id="moviesGrid">
        <div class="loading">Loading popular movies...</div>
      </div>
    </div>
  </div>

  <script>
    function createStars() {
      const starsContainer = document.getElementById('stars');
      const starCount = 150;
      
      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 4 + 's';
        star.style.animationDuration = (Math.random() * 4 + 3) + 's';
        starsContainer.appendChild(star);
      }
    }

    createStars();

    let currentType = 'movie';
    let currentId = '';
    let currentTitle = '';
    const TMDB_API_KEY = 'YOUR_API_KEY_HERE';

    function getEmbedUrl(source, type, id) {
      const urls = {
        vidsrc: `https://vidsrc.xyz/embed/${type}/${id}`,
        vidsrcpro: `https://vidsrc.pro/embed/${type}/${id}`,
        vidsrcto: `https://vidsrc.to/embed/${type}/${id}`,
        embedsu: `https://embed.su/embed/${type}/${id}`,
        '2embed': `https://www.2embed.cc/embed/${type === 'movie' ? id : `${id}/1/1`}`
      };
      return urls[source] || urls.vidsrc;
    }

    function performSearch() {
      const query = document.getElementById('searchInput').value.trim();
      const type = document.getElementById('contentType').value;
      
      if (!query) {
        alert('Please enter a search term');
        return;
      }

      const searchResults = document.getElementById('searchResults');
      const searchGrid = document.getElementById('searchGrid');
      
      searchGrid.innerHTML = '<div class="loading">Searching...</div>';
      searchResults.classList.add('active');
      searchResults.scrollIntoView({ behavior: 'smooth', block: 'start' });

      const endpoint = type === 'movie' ? 'search/movie' : 'search/tv';
      
      fetch(`https://api.themoviedb.org/3/${endpoint}?api_key=${TMDB_API_KEY}&query=${encodeURIComponent(query)}`)
        .then(response => response.json())
        .then(data => {
          if (data.results && data.results.length > 0) {
            searchGrid.innerHTML = '';
            data.results.slice(0, 20).forEach(item => {
              const card = document.createElement('div');
              card.className = 'movie-card';
              const title = item.title || item.name;
              const date = item.release_date || item.first_air_date;
              card.onclick = () => loadContent(item.id, title, type);
              
              const posterPath = item.poster_path 
                ? `https://image.tmdb.org/t/p/w500${item.poster_path}`
                : 'https://via.placeholder.com/200x300/111111/666666?text=No+Poster';
              
              card.innerHTML = `
                <img src="${posterPath}" alt="${title}" class="movie-poster" loading="lazy" />
                <div class="movie-info">
                  <div class="movie-title">${title}</div>
                  <div class="movie-year">${date ? date.split('-')[0] : 'N/A'}</div>
                </div>
              `;
              
              searchGrid.appendChild(card);
            });
          } else {
            searchGrid.innerHTML = '<div class="loading">No results found. Try a different search term.</div>';
          }
        })
        .catch(error => {
          console.error('Search error:', error);
          searchGrid.innerHTML = '<div class="loading">Error searching. Please try again.</div>';
        });
    }

    function loadContent(id, title, type) {
      currentId = id;
      currentTitle = title;
      currentType = type;
      
      const source = document.getElementById('sourceSelect').value;
      document.getElementById('playerSource').value = source;
      
      const url = getEmbedUrl(source, type, id);
      const player = document.getElementById('player');
      const container = document.getElementById('playerContainer');
      const sourceInfo = document.getElementById('currentSource');
      
      player.src = url;
      container.classList.add('active');
      sourceInfo.textContent = `${title} (${type === 'movie' ? 'Movie' : 'TV Show'})`;
      
      container.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function switchSource() {
      if (!currentId) return;
      
      const source = document.getElementById('playerSource').value;
      const url = getEmbedUrl(source, currentType, currentId);
      document.getElementById('player').src = url;
    }

    function loadPopularMovies() {
      const grid = document.getElementById('moviesGrid');
      
      fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${TMDB_API_KEY}`)
        .then(response => response.json())
        .then(data => {
          if (data.results && data.results.length > 0) {
            grid.innerHTML = '';
            data.results.slice(0, 18).forEach(movie => {
              const card = document.createElement('div');
              card.className = 'movie-card';
              card.onclick = () => loadContent(movie.id, movie.title, 'movie');
              
              const posterPath = movie.poster_path 
                ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`
                : 'https://via.placeholder.com/200x300/111111/666666?text=No+Poster';
              
              card.innerHTML = `
                <img src="${posterPath}" alt="${movie.title}" class="movie-poster" loading="lazy" />
                <div class="movie-info">
                  <div class="movie-title">${movie.title}</div>
                  <div class="movie-year">${movie.release_date ? movie.release_date.split('-')[0] : 'N/A'}</div>
                </div>
              `;
              
              grid.appendChild(card);
            });
          }
        })
        .catch(error => {
          console.error('Error loading popular movies:', error);
          grid.innerHTML = '<div class="loading">Error loading movies</div>';
        });
    }

    loadPopularMovies();
  </script>
</body>
</html>
